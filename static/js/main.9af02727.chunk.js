(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(27)},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=(n(17),n(2)),u=n(1),l=function(e){var t=e.includeInQuiz,n=e.rootNote,a=e.num,o=e.count,c=e.onToggle,i=Math.max(1,Math.round((o-(a+1))/o*3));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:a,onClick:c,className:"root-note "+(t?"included":"excluded"),style:{gridArea:"s".concat(a+1," / fretboard-end")}},n.tone),r.a.createElement("div",{className:"string",style:{height:"50%",gridArea:"s".concat(a," / head / s").concat(a+1," / fretboard-end"),borderBottom:"".concat(i,"px solid yellow")}}))},s=(n(19),n(3)),m=n(4),h={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],d=function(){function e(t,n){Object(s.a)(this,e),this.tone=t,this.octave=n}return Object(m.a)(e,[{key:"toString",value:function(){return this.tone}},{key:"toSpn",value:function(){return this.tone+this.octave}}]),e}();function p(e){return"string"!==typeof e?e:3===e.length?new d(e[0]+e[1],parseInt(e[2])):new d(e[0],parseInt(e[1]))}function g(e,t){var n=h[p(e).tone],a=h[t]-n;return a<0&&(a+=12),a}function v(e,t){var n=h[e.tone],a=e.octave,r=n+t%12;return r<0?(r+=12,a--):r>=12&&(r-=12,a++),a+=t/12|0,new d(f[r],a)}var b=function(){function e(t,n){Object(s.a)(this,e),this.name=t,this.notes=n.map(p)}return Object(m.a)(e,[{key:"toString",value:function(){return this.notes.join("-")}}]),e}(),E=[new b("Standard",["E2","A2","D3","G3","B3","E4"]),new b("Open A",["E2","A2","C#3","E3","A3","E4"]),new b("Open B",["B2","F#2","B3","F#3","B3","D#4"]),new b("Open C",["C2","G2","C3","G3","C4","E4"]),new b("Open D",["D2","A2","D3","F#3","A3","D4"]),new b("Open E",["E2","B2","E3","G#3","B3","E4"]),new b("Open F",["F2","A2","C3","F3","C4","F4"]),new b("Open F#",["F#2","A#2","C#3","F#3","C#4","F#4"]),new b("Open G",["D2","G2","D3","G3","B3","D4"])],j={Unison:0,MinorSecond:1,MajorSecond:2,MinorThird:3,MajorThird:4,PerfectFourth:5,PerfectFifth:7,MinorSixth:8,MajorSixth:9,MinorSeventh:11,Ocatve:12},O={Major:{name:"Major",short:"",long:"maj"},Minor:{name:"Minor",short:"m",long:"min"},Augmented:{name:"Augmented",short:"+",long:"aug"},Diminished:{named:"Diminished",short:"o"}},y=function(){function e(t,n,a){Object(s.a)(this,e),this.quality=t,this.notes=[n].concat(Object(i.a)(a.map(function(e){return v(n,e)})))}return Object(m.a)(e,[{key:"shortName",value:function(){return this.notes[0].tone+this.quality.short}},{key:"longName",value:function(){return this.notes[0].tone+this.quality.long}},{key:"rootNote",get:function(){return this.notes[0]}}]),e}();function A(e){return Math.floor(Math.random()*Math.floor(e))}function M(e,t){var n=e.length;return e.map(function(e,a){return t(e,a,{first:0===a,last:a===n-1,length:n})})}n(21),n(23);var N=function(e){var t,n=e.num;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"Fret-number",style:{gridArea:"top / f".concat(n)}},n+1),r.a.createElement("div",{className:"Fret",style:{gridArea:"top-edge / f".concat(n," / bottom-edge / f").concat(n+1)}},2===(t=n)||4===t||6===t||8===t?r.a.createElement("span",{className:"dot single"}):11===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"dot double1"}),r.a.createElement("span",{className:"dot double2"})):null))},w=100,C=function(e,t){return"s".concat(e+1," / span 1 / s").concat(e+1," / f").concat(t)};var F=function(e){var t=e.children,n=e.fretCount,o=e.tuning,c=Object(a.useMemo)(function(){var e=function(e){for(var t=[],n=10,a=0;a<e;a++){var r=n/17.817;n-=r,t.push(r)}return t}(n);return[e,function(e){return"[start] auto [head] "+w+"px "+M(e,function(e,t,n){return(n.first?"[nut f0] ":"")+e+"fr [f"+(t+1)+(n.last?" fretboard-end]":"]")}).join(" ")+" auto [end]"}(e)]},[n]),i=Object(u.a)(c,2),l=i[0],s=i[1],m=Object(a.useMemo)(function(){return function(e){var t=e.notes.length;return"[top] auto "+M(e.notes,function(e,n,a){return(a.first?"[top-edge ":"[")+"s"+(t-n)+"] 40px"}).join(" ")+" [bottom-edge s0]"}(o)},[o]);return r.a.createElement("div",{className:"Fretboard",style:{gridTemplateColumns:s,gridTemplateRows:m}},r.a.createElement("div",{className:"Fretboard-head",style:{gridArea:"top-edge / head / bottom-edge / nut"}}),r.a.createElement("div",{className:"Fretboard-fingerboard",style:{gridArea:"top-edge / nut / bottom-edge / fretboard-end"}}),t,l.map(function(e,t){return r.a.createElement(N,{key:t,size:e,num:t})}))},k=(n(25),{quiz:"Note-quiz",indicator:"Note-indicator",chordRoot:"Note-chord-root"}),S=function(e){var t,n=e.note,a=e.type,o=e.showOctave,c=e.gridArea;return t="quiz"===(a=a||"indicator")?"?":r.a.createElement("span",null,n.tone,o?r.a.createElement("sub",null,n.octave):null),r.a.createElement("div",{className:"Note "+k[a],style:{gridArea:c}},t)},x=n(10),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;Object(s.a)(this,e),this.tuningCache=new Map,this.fretCount=t}return Object(m.a)(e,[{key:"getVoicings",value:function(e,t){var n,a;return this.tuningCache.has(e)?n=this.tuningCache.get(e):this.tuningCache.set(e,n=new Map),n.has(t)?a=n.get(t):n.set(t,a=function(e,t,n){var a={root:[],inversions:[]};return function r(o,c,u,l){if(0!==o.length){for(var s=Object(x.a)(o),m=s[0],h=s.slice(1),f=c.filter(function(e){return null!==e}),d=Math.min.apply(Math,Object(i.a)(f)),p=Math.max.apply(Math,Object(i.a)(f)),b=0,E=function(e){for(var t=g(m,u[e]),a=t;a<n+1;a+=12){var o=Math.min(a,d),s=Math.max(a,p);s-o>4||(r(h,Object(i.a)(c).concat([a]),u.filter(function(t,n){return n!==e}),Object(i.a)(l).concat([u[e]])),b++)}},j=0;j<u.length;j++)E(j);if(e.notes.length-c.length>u.length){for(var j=0;j<l.length;j++)for(var O=g(m,l[j]),y=O;y<n+1;y+=12){var A=Math.min(y,d),M=Math.max(y,p);M-A>4||(r(h,Object(i.a)(c).concat([y]),u,l),b++)}0!==b&&0!==l.length||r(h,Object(i.a)(c).concat([null]),u,l)}}else 0===u.length&&function(n){var r=new G(n),o=n.findIndex(function(e){return null!==e});v(e.notes[o],n[o]).tone!==t.notes[0].tone?a.inversions.push(r):a.root.push(r)}(c)}(e.notes,[],t.notes,[]),a.root.sort(function(e,t){return e.distance-t.distance}),a.inversions.sort(function(e,t){return e.distance-t.distance}),a}(e,t,this.fretCount)),a}}]),e}(),G=function e(t){var n=this;Object(s.a)(this,e);var a=t.filter(function(e){return null!==e});this.minFret=Math.min.apply(Math,Object(i.a)(a)),this.maxFret=Math.max.apply(Math,Object(i.a)(a)),this.distance=t.reduce(function(e,t){return e+(null===t?n.maxFret+1:t)},0),this.notes=t};var I=function(){var e=Object(a.useState)("explore"),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(E[0]),s=Object(u.a)(c,2),m=s[0],f=s[1],d=Object(a.useState)(null),g=Object(u.a)(d,2),b=g[0],M=g[1],N=Object(a.useState)(""),w=Object(u.a)(N,2),k=w[0],x=w[1],G=Object(a.useState)("A"),I=Object(u.a)(G,2),z=I[0],B=I[1],q=Object(a.useState)("Major"),T=Object(u.a)(q,2),P=T[0],Q=T[1],V=Object(a.useState)(!0),R=Object(u.a)(V,2),W=R[0],J=R[1],Y=Object(a.useState)(function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],a=0;a<e;a++)n.push(t);return n}(m.notes.length)),_=Object(u.a)(Y,2),U=_[0],$=_[1],H=Object(a.useMemo)(function(){return new D(12)}),K=Object(a.useState)([]),L=Object(u.a)(K,2),X=L[0],Z=L[1],ee=Object(a.useState)(0),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],re=function(e){var t=e.reduce(function(e,t,n){return t&&e.push(n),e},[]);return{type:"note",string:t[A(t.length)],fret:A(12)}},oe=function(e,t){return v(m.notes[e],t)},ce=Object(a.useState)(function(){return re(U)}),ie=Object(u.a)(ce,2),ue=ie[0],le=ie[1],se=Object(a.useMemo)(function(){for(var e=[],t=0;t<m.notes.length;t++)for(var n=0;n<13;n++)e.push({type:"indicator",note:oe(t,n),gridArea:C(t,n)});return e},[m,W]),me=function(e){var t,n,a=oe(ue.string,ue.fret);t=k,n=a,h.hasOwnProperty(t)&&h.hasOwnProperty(n)&&h[t]===h[n]?(le(re(U)),M({correct:!0,id:Date.now()})):M({correct:!1,id:Date.now()}),x(""),e.preventDefault()},he=function(e){var t,n="Major"==P?(t=p(t=z+"3"),new y(O.Major,t,[j.MajorThird,j.PerfectFifth])):function(e){return e=p(e),new y(O.Minor,e,[j.MinorThird,j.PerfectFifth])}(z+"3"),a=H.getVoicings(m,n).root;e<0?e=0:e>=a.length&&(e=a.length-1);var r=[];a[e].notes.forEach(function(e,t){var a=v(m.notes[t],e);null!==e&&r.push({type:a.tone===n.rootNote.tone?"chordRoot":"indicator",note:a,gridArea:C(t,e)})}),Z(r),ae(e)};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Guitar Quiz"),r.a.createElement("div",{className:"App-options"},r.a.createElement("label",null,"Mode"),r.a.createElement("label",{className:"App-explore"},r.a.createElement("input",{type:"radio",value:"explore",checked:"explore"===n,onChange:function(){return o(e="explore"),void Z("quiz"===e?[{note:oe(ue.string,ue.fret),type:"quiz",gridArea:C(ue.string,ue.fret)}]:se);var e}}),"Explore"),r.a.createElement("label",{className:"App-quiz"},r.a.createElement("input",{type:"radio",value:"quiz",checked:"quiz"===n,onChange:function(){return o("quiz")}}),"Quiz"),r.a.createElement("label",{className:"App-tuning"},"Tuning"),r.a.createElement("select",{className:"App-tuning",value:m.name,onChange:function(e){f(E.find(function(t){return t.name===e.target.value})||m)}},E.map(function(e,t){return r.a.createElement("option",{key:t},e.name)})),r.a.createElement("label",{className:"App-show-octave"},r.a.createElement("input",{type:"checkbox",checked:W,onChange:function(){return J(!W)}})," Show octave")),r.a.createElement(F,{fretCount:12,tuning:m},X.map(function(e,t){return r.a.createElement(S,Object.assign({key:t,showOctave:W},e))}),m.notes.map(function(e,t,n){var a=n.length;return r.a.createElement(l,{key:t,num:t,count:a,onToggle:function(){return function(e){var t=Object(i.a)(U);t[e]=!t[e],$(t),ue.string===e&&le(re(t))}(t)},includeInQuiz:U[t],rootNote:e})})),"quiz"===n?r.a.createElement("form",{className:"App-question",onSubmit:function(e){return me(e)}},r.a.createElement("h1",null,"What is the higlighted note?"),r.a.createElement("input",{className:"App-answer-field",type:"text",value:k,onChange:function(e){return x(e.target.value)}}),b?r.a.createElement("div",{className:"App-judgement "+(b.correct?"correct":"incorrect"),key:b.id},b.correct?"Correct":"Incorrect"):null):r.a.createElement("div",{className:"chordSelector"},r.a.createElement("select",{className:"App-chord-root",value:z,onChange:function(e){return B(e.target.value)}},r.a.createElement("option",null,"A"),r.a.createElement("option",null,"A#"),r.a.createElement("option",null,"B"),r.a.createElement("option",null,"C"),r.a.createElement("option",null,"C#"),r.a.createElement("option",null,"D"),r.a.createElement("option",null,"D#"),r.a.createElement("option",null,"E"),r.a.createElement("option",null,"F"),r.a.createElement("option",null,"F#"),r.a.createElement("option",null,"G"),r.a.createElement("option",null,"G#")),r.a.createElement("select",{className:"App-chord-type",value:P,onChange:function(e){return Q(e.target.value)}},r.a.createElement("option",null,"Major"),r.a.createElement("option",null,"Minor")),r.a.createElement("button",{onClick:function(){he(0)}},"Chord"),r.a.createElement("button",{onClick:function(){he(Number.NEGATIVE_INFINITY)}},"|<"),r.a.createElement("button",{onClick:function(){he(ne-1)}},"<"),r.a.createElement("button",{onClick:function(){he(ne+1)}},">"),r.a.createElement("button",{onClick:function(){he(Number.POSITIVE_INFINITY)}},">|")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.9af02727.chunk.js.map